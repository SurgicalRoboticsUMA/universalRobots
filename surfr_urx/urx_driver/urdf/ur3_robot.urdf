<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from ur3_robot.urdf.xacro           | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="ur3" xmlns:xacro="http://ros.org/wiki/xacro">
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="ros_control">
      <!--robotNamespace>/</robotNamespace-->
      <!--robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType-->
    </plugin>
    <!--
    <plugin name="gazebo_ros_power_monitor_controller" filename="libgazebo_ros_power_monitor.so">
      <alwaysOn>true</alwaysOn>
      <updateRate>1.0</updateRate>
      <timeout>5</timeout>
      <powerStateTopic>power_state</powerStateTopic>
      <powerStateRate>10.0</powerStateRate>
      <fullChargeCapacity>87.78</fullChargeCapacity>     
      <dischargeRate>-474</dischargeRate>
      <chargeRate>525</chargeRate>
      <dischargeVoltage>15.52</dischargeVoltage>
      <chargeVoltage>16.41</chargeVoltage>
    </plugin>
-->
  </gazebo>
  <!--
               URDF definition for the UR3 manipulator
  ******************************************************************************
  Author     : Enrique Bauzano
  Email      : ebauzano@uma.es
  ******************************************************************************
  Description: This URDF definition is an update from the official ROS package
               of the Universal Robots ur_description included on ROS-Industrial
               package. For more info visit http://wiki.ros.org/ur_description.

  Updates    :- Modification of each joint frame to follow a Denavit-Hartenberg
                methodology for the definition of the manipulator chain. Now the
                Z vector of each joint frame is aligned with its corresponding
                rotation axis, and all X vectors are aligned themselves.
              - Limit values of velocities and efforts have been fixed.
              - Inertias have been adapted to the correct shape of each link.
              - The last joint (wrist_3) now is continuous instead of revolute
                as this manipulator allows infinite rotation of its last axis.
                In this way, angle limits for wrist_3 joint only apply if
                it is required by the user.
              - The end effector link now has the same shape as the wrist_3_link
                (a cylinder) instead of the original small box.
              - Base and tool frames have been ommited from the main manipulator
                chain of links.
              - Added references to the sources of all UR3 information.
  ToDo List  :- Use real Tensors of Inertia for each link by means of their
                corresponding meshes.
              - Update the damping and friction with the real values of each
                joint (now they are zero by default).
  ******************************************************************************
  Disclaimer : THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND
               CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,
               INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
               MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
               DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS
               BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
               EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
               TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
               DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
               ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
               OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
               OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
               POSSIBILITY OF SUCH DAMAGE.
  ******************************************************************************
-->
  <!--  <xacro:property name="pi" value="3.14159265" />-->
  <link name="1/root_link">
    <visual>
      <geometry>
        <mesh filename="package://urx_description/meshes/ur3/visual/base.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
      <origin rpy="0.0 0.0 3.14159265359" xyz="0.0 0.0 0.0"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://urx_description/meshes/ur3/collision/base.stl"/>
      </geometry>
      <origin rpy="0.0 0.0 3.14159265359" xyz="0.0 0.0 0.0"/>
    </collision>
    <inertial>
      <origin rpy="0.0 0.0 3.14159265359" xyz="0.0 0.0 0.043"/>
      <mass value="1.7"/>
      <inertia ixx="0.00278856666667" ixy="0.0" ixz="0.0" iyy="0.00278856666667" iyz="0.0" izz="0.0034816"/>
    </inertial>
  </link>
  <joint name="1/base_joint" type="revolute">
    <parent link="1/root_link"/>
    <child link="1/base_link"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.1519"/>
    <axis xyz="0 0 1"/>
    <limit effort="56.0" lower="-6.28318530718" upper="6.28318530718" velocity="3.14159265359"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="1/base_link">
    <visual>
      <geometry>
        <mesh filename="package://urx_description/meshes/ur3/visual/shoulder.dae"/>
      </geometry>
      <material name="LightGrey"/>
      <origin rpy="0.0 0.0 3.14159265359" xyz="0.0 0.0 0.0"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://urx_description/meshes/ur3/collision/shoulder.stl"/>
      </geometry>
      <origin rpy="0.0 0.0 3.14159265359" xyz="0.0 0.0 0.0"/>
    </collision>
    <inertial>
      <origin rpy="0.0 0.0 3.14159265359" xyz="0.0 0.0 0.0"/>
      <mass value="2.0"/>
      <inertia ixx="0.00333316666667" ixy="0.0" ixz="0.0" iyy="0.00333316666667" iyz="0.0" izz="0.002025"/>
    </inertial>
  </link>
  <joint name="1/shoulder_joint" type="revolute">
    <parent link="1/base_link"/>
    <child link="1/shoulder_link"/>
    <origin rpy="1.57079632679 0.0 0.0" xyz="0.0 -0.12 0.0"/>
    <axis xyz="0 0 1"/>
    <limit effort="56.0" lower="-6.28318530718" upper="6.28318530718" velocity="3.14159265359"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="1/shoulder_link">
    <visual>
      <geometry>
        <mesh filename="package://urx_description/meshes/ur3/visual/upperarm.dae"/>
      </geometry>
      <material name="LightGrey"/>
      <origin rpy="1.57079632679 0.0 -1.57079632679" xyz="0.0 0.0 0.0"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://urx_description/meshes/ur3/collision/upperarm.stl"/>
      </geometry>
      <origin rpy="1.57079632679 0.0 -1.57079632679" xyz="0.0 0.0 0.0"/>
    </collision>
    <inertial>
      <origin rpy="1.57079632679 0.0 -1.57079632679" xyz="-0.121825 0.0 0.0"/>
      <mass value="3.42"/>
      <inertia ixx="0.00610584" ixy="0.0" ixz="0.0" iyy="0.00610584" iyz="0.0" izz="0.004275"/>
    </inertial>
  </link>
  <joint name="1/elbow_joint" type="revolute">
    <parent link="1/shoulder_link"/>
    <child link="1/elbow_link"/>
    <origin rpy="0.0 0.0 0.0" xyz="-0.24365 0.0 0.0"/>
    <axis xyz="0 0 1"/>
    <limit effort="28.0" lower="-6.28318530718" upper="6.28318530718" velocity="3.14159265359"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="1/elbow_link">
    <visual>
      <geometry>
        <mesh filename="package://urx_description/meshes/ur3/visual/forearm.dae"/>
      </geometry>
      <material name="LightGrey"/>
      <origin rpy="1.57079632679 0.0 -1.57079632679" xyz="0.0 0.0 -0.093"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://urx_description/meshes/ur3/collision/forearm.stl"/>
      </geometry>
      <origin rpy="1.57079632679 0.0 -1.57079632679" xyz="0.0 0.0 -0.093"/>
    </collision>
    <inertial>
      <origin rpy="1.57079632679 0.0 -1.57079632679" xyz="-0.106625 0.0 -0.093"/>
      <mass value="1.26"/>
      <inertia ixx="0.00904722" ixy="0.0" ixz="0.0" iyy="0.00904722" iyz="0.0" izz="0.00127575"/>
    </inertial>
  </link>
  <joint name="1/wrist1_joint" type="revolute">
    <parent link="1/elbow_link"/>
    <child link="1/wrist1_link"/>
    <origin rpy="0.0 0.0 0.0" xyz="-0.21325 0.0 -0.093"/>
    <axis xyz="0 0 1"/>
    <limit effort="12.0" lower="-6.28318530718" upper="6.28318530718" velocity="6.28318530718"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="1/wrist1_link">
    <visual>
      <geometry>
        <mesh filename="package://urx_description/meshes/ur3/visual/wrist1.dae"/>
      </geometry>
      <material name="LightGrey"/>
      <origin rpy="1.57079632679 0.0 0.0" xyz="0.0 0.0 0.0"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://urx_description/meshes/ur3/collision/wrist1.stl"/>
      </geometry>
      <origin rpy="1.57079632679 0.0 0.0" xyz="0.0 0.0 0.0"/>
    </collision>
    <inertial>
      <origin rpy="1.57079632679 0.0 0.0" xyz="0.0 0.0 0.08535"/>
      <mass value="0.8"/>
      <inertia ixx="0.000761266666667" ixy="0.0" ixz="0.0" iyy="0.000761266666667" iyz="0.0" izz="0.00049"/>
    </inertial>
  </link>
  <joint name="1/wrist2_joint" type="revolute">
    <parent link="1/wrist1_link"/>
    <child link="1/wrist2_link"/>
    <origin rpy="1.57079632679 0.0 0.0" xyz="0.0 0.0 0.08535"/>
    <axis xyz="0 0 1"/>
    <limit effort="12.0" lower="-6.28318530718" upper="6.28318530718" velocity="6.28318530718"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="1/wrist2_link">
    <visual>
      <geometry>
        <mesh filename="package://urx_description/meshes/ur3/visual/wrist2.dae"/>
      </geometry>
      <material name="LightGrey"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://urx_description/meshes/ur3/collision/wrist2.stl"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="1.57079632679 0.0 0.0" xyz="0.0 0.0 0.08535"/>
      <mass value="0.8"/>
      <inertia ixx="0.000761266666667" ixy="0.0" ixz="0.0" iyy="0.000761266666667" iyz="0.0" izz="0.00049"/>
    </inertial>
  </link>
  <joint name="1/wrist3_joint" type="continuous">
    <parent link="1/wrist2_link"/>
    <child link="1/wrist3_link"/>
    <origin rpy="-1.57079632679 0.0 0.0" xyz="0.0 0.0 0.08535"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="1/wrist3_link">
    <visual>
      <geometry>
        <mesh filename="package://urx_description/meshes/ur3/visual/wrist3.dae"/>
      </geometry>
      <material name="LightGrey"/>
      <origin rpy="1.57079632679 0.0 0.0" xyz="0.0 0.0 0.0"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://urx_description/meshes/ur3/collision/wrist3.stl"/>
      </geometry>
      <origin rpy="1.57079632679 0.0 0.0" xyz="0.0 0.0 0.0"/>
    </collision>
    <inertial>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0619"/>
      <mass value="0.35"/>
      <inertia ixx="0.000141954166667" ixy="0.0" ixz="0.0" iyy="0.000141954166667" iyz="0.0" izz="0.000190575"/>
    </inertial>
  </link>
  <joint name="1/ee_fixed_joint" type="fixed">
    <parent link="1/wrist3_link"/>
    <child link="1/ee_link"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0819"/>
  </joint>
  <link name="1/ee_link">
    <collision>
      <geometry>
        <cylinder length="0.01" radius="0.033"/>
      </geometry>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
    </collision>
  </link>
  <transmission name="1/shoulder_pan_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="1/shoulder_pan_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="1/shoulder_pan_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="1/shoulder_lift_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="1/shoulder_lift_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="1/shoulder_lift_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="1/elbow_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="1/elbow_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="1/elbow_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="1/wrist_1_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="1/wrist_1_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="1/wrist_1_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="1/wrist_2_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="1/wrist_2_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="1/wrist_2_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="1/wrist_3_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="1/wrist_3_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="1/wrist_3_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- nothing to do here at the moment -->
  <!--    <joint name="${prefix}ftsensor_fixed_joint" type="fixed">
      <parent link="${prefix}ee_link" />
      <child link = "${prefix}ftsensor_link" />
      <origin xyz="0.0 0.0 ${ftsensor_length}" rpy="0.0 0.0 ${-0.5*pi}" />
    </joint>

    <link name="${prefix}ftsensor_link">
      <visual>
        <geometry>
          <cylinder length="${ftsensor_length}" radius="${ftsensor_radius}"/>
        </geometry>
        <material name="DarkGrey">
          <color rgba="0.1 0.1 0.1 1.0"/>
        </material>
        <origin xyz="0.0 0.0 ${-0.5*ftsensor_length}" rpy="0.0 0.0 0.0"/>
      </visual>
      <collision>
        <geometry>
          <cylinder length="${ftsensor_length}" radius="${ftsensor_radius}"/>
        </geometry>
        <origin xyz="0.0 0.0 ${-0.5*ftsensor_length}" rpy="0.0 0.0 0.0"/>
      </collision>
      <xacro:cylinder_inertial radius="${ftsensor_radius}" length="${ftsensor_length}" mass="${ftsensor_mass}">
        <origin xyz="0.0 0.0 ${-0.5*ftsensor_length}" rpy="0.0 0.0 0.0"/>
      </xacro:cylinder_inertial>
    </link>-->
  <sensor name="optoforce" update_rate="1000">
    <parent link="1/ee_link"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 -0.0175"/>
    <force_torque frame="1/ftsensor_link" measure_direction="parent_to_child"/>
  </sensor>
  <!-- Frame coincident with all-zeros TCP on UR controller -->
  <joint name="1/tcp_fixed_joint" type="fixed">
    <parent link="1/ee_link"/>
    <child link="1/tcp_link"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
  </joint>
  <link name="1/tcp_link">
    <visual>
      <geometry>
        <sphere radius="0.01"/>
      </geometry>
      <material name="White">
        <color rgba="1.0 1.0 1.0 1.0"/>
      </material>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.01"/>
      </geometry>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
    </collision>
  </link>
  <link name="world"/>
  <joint name="1/world_fixed_joint" type="fixed">
    <parent link="world"/>
    <child link="1/root_link"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
  </joint>
  <!--  <link name="origin_link" />
  <joint name="origin_fixed_joint" type="fixed">
    <parent link="origin_link" />
    <child link = "root_link" />
    <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0" />
  </joint>-->
</robot>
